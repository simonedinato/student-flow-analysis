

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>USA Personalized Regression Comparison &#8212; Student Flow Analysis</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/custom.js"></script>
    <script src="_static/custom.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '07_regr_USA';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">Student Flow Analysis</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Data Preparation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01_mobility_data.html">Step 1: Mobility Data Construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_economic_data.html">Step 2 &amp; 3: Earnings and Costs Data</a></li>

<li class="toctree-l1"><a class="reference internal" href="03_employability_data.html">Step 4: Employability and Quality Proxies</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_macro_data.html">Step 6: Macro and Gravity Variables</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Analysis &amp; Results</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="05_regression_analysis.html">Pre-Model Analysis and Variable Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_visualization.html">Personalized Student Flow Visualization</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/07_regr_USA.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>USA Personalized Regression Comparison</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-1-base-gravity-model">Model 1: Base Gravity Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-2-origin-fixed-effects">Model 2: Origin Fixed Effects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-3-roi-specification">Model 3: ROI Specification</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-4-parsimonious-gravity-model">Model 4: Parsimonious Gravity Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#personalized-estimation-united-states-origin">Personalized Estimation: United States Origin</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="usa-personalized-regression-comparison">
<h1>USA Personalized Regression Comparison<a class="headerlink" href="#usa-personalized-regression-comparison" title="Permalink to this heading">#</a></h1>
<p>This notebook mirrors the structure of <code class="docutils literal notranslate"><span class="pre">05_regression_analysis</span></code> but focuses on the United States as the origin country. We:</p>
<ol class="arabic simple">
<li><p>Recreate the four gravity-model specifications used previously.</p></li>
<li><p>Generate destination-specific predictions for students originating from the USA.</p></li>
<li><p>Summarize the relative attractiveness of each destination with a probability table (no map output).</p></li>
</ol>
<blockquote>
<div><p>Note: We reuse the cleaned fact table and replicate the model specifications to ensure consistency with the Italy analysis.</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">statsmodels.formula.api</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">smf</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span>

<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;/Users/simonedinato/Documents/Classes/Applied Econometrics/Project&quot;</span><span class="p">)</span>
<span class="n">DATA_DIR</span> <span class="o">=</span> <span class="n">BASE_DIR</span> <span class="o">/</span> <span class="s2">&quot;Datasets&quot;</span>

<span class="n">fact_path</span> <span class="o">=</span> <span class="n">DATA_DIR</span> <span class="o">/</span> <span class="s2">&quot;07_fact_tables&quot;</span> <span class="o">/</span> <span class="s2">&quot;od_fact_table.csv&quot;</span>

<span class="n">fact</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">fact_path</span><span class="p">)</span>
<span class="n">fact</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>indicatorId</th>
      <th>origin_country_code</th>
      <th>year</th>
      <th>students_outbound_total</th>
      <th>qualifier</th>
      <th>magnitude</th>
      <th>origin_country</th>
      <th>destination_country_code</th>
      <th>destination_country</th>
      <th>students_inbound_destination</th>
      <th>...</th>
      <th>gdp_pc_dest</th>
      <th>gdp_dest_ppp_flag</th>
      <th>gdp_dest_year_source</th>
      <th>gdp_dest_year_distance</th>
      <th>gdp_pc_orig</th>
      <th>gdp_orig_ppp_flag</th>
      <th>gdp_orig_year_source</th>
      <th>gdp_orig_year_distance</th>
      <th>log_gdp_gap</th>
      <th>gdp_pc_ratio</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>OE.5T8.40510</td>
      <td>ABW</td>
      <td>2018</td>
      <td>365.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Aruba</td>
      <td>ALB</td>
      <td>Albania</td>
      <td>1969.00</td>
      <td>...</td>
      <td>14711.828522</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>39419.555703</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>-0.985610</td>
      <td>0.373211</td>
    </tr>
    <tr>
      <th>1</th>
      <td>OE.5T8.40510</td>
      <td>ABW</td>
      <td>2018</td>
      <td>365.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Aruba</td>
      <td>AND</td>
      <td>Andorra</td>
      <td>278.00</td>
      <td>...</td>
      <td>63048.598557</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>39419.555703</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>0.469644</td>
      <td>1.599424</td>
    </tr>
    <tr>
      <th>2</th>
      <td>OE.5T8.40510</td>
      <td>ABW</td>
      <td>2018</td>
      <td>365.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Aruba</td>
      <td>ARE</td>
      <td>United Arab Emirates</td>
      <td>199958.00</td>
      <td>...</td>
      <td>68854.969902</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>39419.555703</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>0.557740</td>
      <td>1.746721</td>
    </tr>
    <tr>
      <th>3</th>
      <td>OE.5T8.40510</td>
      <td>ABW</td>
      <td>2018</td>
      <td>365.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Aruba</td>
      <td>ARG</td>
      <td>Argentina</td>
      <td>109226.25</td>
      <td>...</td>
      <td>27367.115094</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>39419.555703</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>-0.364920</td>
      <td>0.694252</td>
    </tr>
    <tr>
      <th>4</th>
      <td>OE.5T8.40510</td>
      <td>ABW</td>
      <td>2018</td>
      <td>365.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Aruba</td>
      <td>ARM</td>
      <td>Armenia</td>
      <td>4598.00</td>
      <td>...</td>
      <td>15037.045242</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>39419.555703</td>
      <td>1.0</td>
      <td>2018.0</td>
      <td>0.0</td>
      <td>-0.963745</td>
      <td>0.381462</td>
    </tr>
  </tbody>
</table>
<p>5 rows Ã— 40 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Prepare data for regression models (reuse logic from Italy notebook)</span>
<span class="n">reg_data</span> <span class="o">=</span> <span class="n">fact</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Dependent Variable</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;log_students&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;students_enrolled&quot;</span><span class="p">])</span>

<span class="c1"># Independent Variables</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;log_earnings_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;earnings_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;earnings_orig&quot;</span><span class="p">])</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;log_tuition_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_tuition_orig&quot;</span><span class="p">])</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;log_living_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_living_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_living_orig&quot;</span><span class="p">])</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;log_dist&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;dist&quot;</span><span class="p">])</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;log_gdp_dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;gdp_pc_dest&quot;</span><span class="p">])</span>

<span class="c1"># Restricted Model Variables</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;total_cost_dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_living_dest&quot;</span><span class="p">]</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;total_cost_orig&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_tuition_orig&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;cost_living_orig&quot;</span><span class="p">]</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;roi_dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;earnings_dest&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;total_cost_dest&quot;</span><span class="p">]</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;roi_orig&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;earnings_orig&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;total_cost_orig&quot;</span><span class="p">]</span>
<span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;log_roi_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;roi_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">reg_data</span><span class="p">[</span><span class="s2">&quot;roi_orig&quot;</span><span class="p">])</span>

<span class="n">regression_cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;log_students&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_earnings_diff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_tuition_diff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_living_diff&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_dist&quot;</span><span class="p">,</span>
    <span class="s2">&quot;comlang_off&quot;</span><span class="p">,</span>
    <span class="s2">&quot;colony&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_gdp_dest&quot;</span><span class="p">,</span>
    <span class="s2">&quot;log_roi_diff&quot;</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">reg_data</span> <span class="o">=</span> <span class="n">reg_data</span><span class="o">.</span><span class="n">replace</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
<span class="n">reg_data</span> <span class="o">=</span> <span class="n">reg_data</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">regression_cols</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Regression rows: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">reg_data</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Regression rows: 17759
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/simonedinato/Documents/Classes/Applied Econometrics/Project/.venv/lib/python3.11/site-packages/pandas/core/arraylike.py:399: RuntimeWarning: divide by zero encountered in log
  result = getattr(ufunc, method)(*inputs, **kwargs)
</pre></div>
</div>
</div>
</div>
<section id="model-1-base-gravity-model">
<h2>Model 1: Base Gravity Model<a class="headerlink" href="#model-1-base-gravity-model" title="Permalink to this heading">#</a></h2>
<p>Standard gravity covariates plus destination GDP (no fixed effects).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model1</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span>
    <span class="s2">&quot;log_students ~ log_tuition_diff + log_earnings_diff + log_living_diff + log_dist + comlang_off + colony + log_gdp_dest&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">reg_data</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s2">&quot;HC1&quot;</span><span class="p">)</span>
<span class="n">model1</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>      <td>log_students</td>   <th>  R-squared:         </th> <td>   0.149</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.148</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   445.6</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Thu, 04 Dec 2025</td> <th>  Prob (F-statistic):</th>  <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>13:55:48</td>     <th>  Log-Likelihood:    </th> <td> -33907.</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td> 17759</td>      <th>  AIC:               </th> <td>6.783e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td> 17751</td>      <th>  BIC:               </th> <td>6.789e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     7</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>         <td>HC1</td>       <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
          <td></td>             <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>         <td>    0.8816</td> <td>    0.301</td> <td>    2.926</td> <td> 0.003</td> <td>    0.291</td> <td>    1.472</td>
</tr>
<tr>
  <th>log_tuition_diff</th>  <td>    0.0248</td> <td>    0.003</td> <td>    8.198</td> <td> 0.000</td> <td>    0.019</td> <td>    0.031</td>
</tr>
<tr>
  <th>log_earnings_diff</th> <td>    0.1098</td> <td>    0.022</td> <td>    4.912</td> <td> 0.000</td> <td>    0.066</td> <td>    0.154</td>
</tr>
<tr>
  <th>log_living_diff</th>   <td>    0.4073</td> <td>    0.025</td> <td>   15.975</td> <td> 0.000</td> <td>    0.357</td> <td>    0.457</td>
</tr>
<tr>
  <th>log_dist</th>          <td>   -0.0067</td> <td>    0.013</td> <td>   -0.513</td> <td> 0.608</td> <td>   -0.032</td> <td>    0.019</td>
</tr>
<tr>
  <th>comlang_off</th>       <td>    0.6846</td> <td>    0.044</td> <td>   15.486</td> <td> 0.000</td> <td>    0.598</td> <td>    0.771</td>
</tr>
<tr>
  <th>colony</th>            <td>    1.0824</td> <td>    0.085</td> <td>   12.731</td> <td> 0.000</td> <td>    0.916</td> <td>    1.249</td>
</tr>
<tr>
  <th>log_gdp_dest</th>      <td>    0.3236</td> <td>    0.024</td> <td>   13.503</td> <td> 0.000</td> <td>    0.277</td> <td>    0.371</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>95.622</td> <th>  Durbin-Watson:     </th> <td>   1.196</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  77.089</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.087</td> <th>  Prob(JB):          </th> <td>1.82e-17</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.729</td> <th>  Cond. No.          </th> <td>    344.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors are heteroscedasticity robust (HC1)</div></div>
</div>
</section>
<section id="model-2-origin-fixed-effects">
<h2>Model 2: Origin Fixed Effects<a class="headerlink" href="#model-2-origin-fixed-effects" title="Permalink to this heading">#</a></h2>
<p>Adds origin-country fixed effects to soak up unobserved heterogeneity.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model2</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span>
    <span class="s2">&quot;log_students ~ log_tuition_diff + log_earnings_diff + log_living_diff + log_dist + comlang_off + colony + C(origin_country_code)&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">reg_data</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s2">&quot;HC1&quot;</span><span class="p">)</span>
<span class="n">model2</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>      <td>log_students</td>   <th>  R-squared:         </th> <td>   0.518</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.516</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   292.8</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Thu, 04 Dec 2025</td> <th>  Prob (F-statistic):</th>  <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>13:55:48</td>     <th>  Log-Likelihood:    </th> <td> -28855.</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td> 17759</td>      <th>  AIC:               </th> <td>5.784e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td> 17693</td>      <th>  BIC:               </th> <td>5.836e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>    65</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>         <td>HC1</td>       <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
                <td></td>                   <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>                     <td>    1.5395</td> <td>    0.134</td> <td>   11.468</td> <td> 0.000</td> <td>    1.276</td> <td>    1.803</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.AUS]</th> <td>    3.3468</td> <td>    0.108</td> <td>   30.864</td> <td> 0.000</td> <td>    3.134</td> <td>    3.559</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.AUT]</th> <td>    2.6304</td> <td>    0.104</td> <td>   25.201</td> <td> 0.000</td> <td>    2.426</td> <td>    2.835</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BEL]</th> <td>    3.2382</td> <td>    0.110</td> <td>   29.341</td> <td> 0.000</td> <td>    3.022</td> <td>    3.455</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BGD]</th> <td>    2.0247</td> <td>    0.102</td> <td>   19.826</td> <td> 0.000</td> <td>    1.825</td> <td>    2.225</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BGR]</th> <td>    1.5934</td> <td>    0.102</td> <td>   15.560</td> <td> 0.000</td> <td>    1.393</td> <td>    1.794</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BHR]</th> <td>    0.9682</td> <td>    0.097</td> <td>    9.956</td> <td> 0.000</td> <td>    0.778</td> <td>    1.159</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BRA]</th> <td>    3.0407</td> <td>    0.101</td> <td>   30.036</td> <td> 0.000</td> <td>    2.842</td> <td>    3.239</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CAN]</th> <td>    4.2750</td> <td>    0.108</td> <td>   39.640</td> <td> 0.000</td> <td>    4.064</td> <td>    4.486</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CHE]</th> <td>    4.4275</td> <td>    0.114</td> <td>   38.669</td> <td> 0.000</td> <td>    4.203</td> <td>    4.652</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.COL]</th> <td>    2.5180</td> <td>    0.102</td> <td>   24.727</td> <td> 0.000</td> <td>    2.318</td> <td>    2.718</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CYP]</th> <td>    2.2076</td> <td>    0.104</td> <td>   21.163</td> <td> 0.000</td> <td>    2.003</td> <td>    2.412</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DEU]</th> <td>    4.1484</td> <td>    0.102</td> <td>   40.693</td> <td> 0.000</td> <td>    3.949</td> <td>    4.348</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DNK]</th> <td>    1.3393</td> <td>    0.100</td> <td>   13.411</td> <td> 0.000</td> <td>    1.144</td> <td>    1.535</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DOM]</th> <td>   -0.1210</td> <td>    0.098</td> <td>   -1.230</td> <td> 0.219</td> <td>   -0.314</td> <td>    0.072</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DZA]</th> <td>    1.2546</td> <td>    0.103</td> <td>   12.171</td> <td> 0.000</td> <td>    1.053</td> <td>    1.457</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ECU]</th> <td>    2.0641</td> <td>    0.103</td> <td>   19.964</td> <td> 0.000</td> <td>    1.861</td> <td>    2.267</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.EGY]</th> <td>    1.8014</td> <td>    0.101</td> <td>   17.869</td> <td> 0.000</td> <td>    1.604</td> <td>    1.999</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ESP]</th> <td>    3.5392</td> <td>    0.105</td> <td>   33.703</td> <td> 0.000</td> <td>    3.333</td> <td>    3.745</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.FIN]</th> <td>    1.5993</td> <td>    0.100</td> <td>   16.050</td> <td> 0.000</td> <td>    1.404</td> <td>    1.795</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.FRA]</th> <td>    4.6161</td> <td>    0.107</td> <td>   43.246</td> <td> 0.000</td> <td>    4.407</td> <td>    4.825</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GBR]</th> <td>    3.8640</td> <td>    0.109</td> <td>   35.503</td> <td> 0.000</td> <td>    3.651</td> <td>    4.077</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GHA]</th> <td>    1.5141</td> <td>    0.104</td> <td>   14.600</td> <td> 0.000</td> <td>    1.311</td> <td>    1.717</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GRC]</th> <td>    2.1284</td> <td>    0.100</td> <td>   21.191</td> <td> 0.000</td> <td>    1.932</td> <td>    2.325</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.HRV]</th> <td>    0.9811</td> <td>    0.100</td> <td>    9.770</td> <td> 0.000</td> <td>    0.784</td> <td>    1.178</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.HUN]</th> <td>    1.0494</td> <td>    0.101</td> <td>   10.351</td> <td> 0.000</td> <td>    0.851</td> <td>    1.248</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IDN]</th> <td>    2.5487</td> <td>    0.102</td> <td>   24.898</td> <td> 0.000</td> <td>    2.348</td> <td>    2.749</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IND]</th> <td>    4.9748</td> <td>    0.105</td> <td>   47.260</td> <td> 0.000</td> <td>    4.768</td> <td>    5.181</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IRL]</th> <td>    2.7135</td> <td>    0.103</td> <td>   26.306</td> <td> 0.000</td> <td>    2.511</td> <td>    2.916</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IRN]</th> <td>    2.9444</td> <td>    0.103</td> <td>   28.674</td> <td> 0.000</td> <td>    2.743</td> <td>    3.146</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ISL]</th> <td>    0.6874</td> <td>    0.095</td> <td>    7.273</td> <td> 0.000</td> <td>    0.502</td> <td>    0.873</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ISR]</th> <td>    3.3759</td> <td>    0.105</td> <td>   32.212</td> <td> 0.000</td> <td>    3.170</td> <td>    3.581</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ITA]</th> <td>    4.4054</td> <td>    0.106</td> <td>   41.685</td> <td> 0.000</td> <td>    4.198</td> <td>    4.612</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.JPN]</th> <td>    3.0424</td> <td>    0.103</td> <td>   29.425</td> <td> 0.000</td> <td>    2.840</td> <td>    3.245</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.KWT]</th> <td>    2.7740</td> <td>    0.102</td> <td>   27.230</td> <td> 0.000</td> <td>    2.574</td> <td>    2.974</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.LBN]</th> <td>    2.5611</td> <td>    0.109</td> <td>   23.584</td> <td> 0.000</td> <td>    2.348</td> <td>    2.774</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.LUX]</th> <td>    3.2045</td> <td>    0.108</td> <td>   29.781</td> <td> 0.000</td> <td>    2.994</td> <td>    3.415</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MAR]</th> <td>    2.6370</td> <td>    0.106</td> <td>   24.923</td> <td> 0.000</td> <td>    2.430</td> <td>    2.844</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MEX]</th> <td>    2.8358</td> <td>    0.104</td> <td>   27.297</td> <td> 0.000</td> <td>    2.632</td> <td>    3.039</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MYS]</th> <td>    2.8550</td> <td>    0.102</td> <td>   28.026</td> <td> 0.000</td> <td>    2.655</td> <td>    3.055</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NGA]</th> <td>    3.8473</td> <td>    0.109</td> <td>   35.206</td> <td> 0.000</td> <td>    3.633</td> <td>    4.062</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NLD]</th> <td>    2.8858</td> <td>    0.105</td> <td>   27.516</td> <td> 0.000</td> <td>    2.680</td> <td>    3.091</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NOR]</th> <td>    2.1335</td> <td>    0.100</td> <td>   21.270</td> <td> 0.000</td> <td>    1.937</td> <td>    2.330</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NZL]</th> <td>    1.8706</td> <td>    0.104</td> <td>   17.901</td> <td> 0.000</td> <td>    1.666</td> <td>    2.075</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PAN]</th> <td>    0.4998</td> <td>    0.098</td> <td>    5.082</td> <td> 0.000</td> <td>    0.307</td> <td>    0.693</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PER]</th> <td>    2.0712</td> <td>    0.102</td> <td>   20.308</td> <td> 0.000</td> <td>    1.871</td> <td>    2.271</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.POL]</th> <td>    2.4304</td> <td>    0.101</td> <td>   23.962</td> <td> 0.000</td> <td>    2.232</td> <td>    2.629</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PRT]</th> <td>    2.1159</td> <td>    0.103</td> <td>   20.630</td> <td> 0.000</td> <td>    1.915</td> <td>    2.317</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SAU]</th> <td>    3.3863</td> <td>    0.103</td> <td>   32.748</td> <td> 0.000</td> <td>    3.184</td> <td>    3.589</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SGP]</th> <td>    3.5930</td> <td>    0.107</td> <td>   33.729</td> <td> 0.000</td> <td>    3.384</td> <td>    3.802</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SLV]</th> <td>    0.4965</td> <td>    0.100</td> <td>    4.969</td> <td> 0.000</td> <td>    0.301</td> <td>    0.692</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SVN]</th> <td>    0.0040</td> <td>    0.097</td> <td>    0.041</td> <td> 0.967</td> <td>   -0.187</td> <td>    0.195</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SWE]</th> <td>    2.1400</td> <td>    0.101</td> <td>   21.208</td> <td> 0.000</td> <td>    1.942</td> <td>    2.338</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.THA]</th> <td>    1.9580</td> <td>    0.102</td> <td>   19.145</td> <td> 0.000</td> <td>    1.758</td> <td>    2.158</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.TUN]</th> <td>    0.8798</td> <td>    0.105</td> <td>    8.405</td> <td> 0.000</td> <td>    0.675</td> <td>    1.085</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.UKR]</th> <td>    3.1218</td> <td>    0.104</td> <td>   29.934</td> <td> 0.000</td> <td>    2.917</td> <td>    3.326</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.URY]</th> <td>    0.0767</td> <td>    0.095</td> <td>    0.810</td> <td> 0.418</td> <td>   -0.109</td> <td>    0.262</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.USA]</th> <td>    5.7482</td> <td>    0.111</td> <td>   51.980</td> <td> 0.000</td> <td>    5.532</td> <td>    5.965</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.UZB]</th> <td>    2.7785</td> <td>    0.109</td> <td>   25.505</td> <td> 0.000</td> <td>    2.565</td> <td>    2.992</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ZAF]</th> <td>    2.3329</td> <td>    0.107</td> <td>   21.897</td> <td> 0.000</td> <td>    2.124</td> <td>    2.542</td>
</tr>
<tr>
  <th>log_tuition_diff</th>              <td>    0.0652</td> <td>    0.004</td> <td>   18.401</td> <td> 0.000</td> <td>    0.058</td> <td>    0.072</td>
</tr>
<tr>
  <th>log_earnings_diff</th>             <td>   -0.3751</td> <td>    0.021</td> <td>  -17.739</td> <td> 0.000</td> <td>   -0.417</td> <td>   -0.334</td>
</tr>
<tr>
  <th>log_living_diff</th>               <td>    1.6507</td> <td>    0.030</td> <td>   55.485</td> <td> 0.000</td> <td>    1.592</td> <td>    1.709</td>
</tr>
<tr>
  <th>log_dist</th>                      <td>   -0.0124</td> <td>    0.013</td> <td>   -0.971</td> <td> 0.332</td> <td>   -0.038</td> <td>    0.013</td>
</tr>
<tr>
  <th>comlang_off</th>                   <td>    1.0431</td> <td>    0.040</td> <td>   25.897</td> <td> 0.000</td> <td>    0.964</td> <td>    1.122</td>
</tr>
<tr>
  <th>colony</th>                        <td>    0.5641</td> <td>    0.058</td> <td>    9.663</td> <td> 0.000</td> <td>    0.450</td> <td>    0.679</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>281.552</td> <th>  Durbin-Watson:     </th> <td>   1.870</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td> 315.471</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.271</td>  <th>  Prob(JB):          </th> <td>3.14e-69</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.363</td>  <th>  Cond. No.          </th> <td>    557.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors are heteroscedasticity robust (HC1)</div></div>
</div>
</section>
<section id="model-3-roi-specification">
<h2>Model 3: ROI Specification<a class="headerlink" href="#model-3-roi-specification" title="Permalink to this heading">#</a></h2>
<p>Replaces the tuition and earnings controls with the ROI differential.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model3</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span>
    <span class="s2">&quot;log_students ~ log_roi_diff + log_dist + comlang_off + colony + C(origin_country_code)&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">reg_data</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s2">&quot;HC1&quot;</span><span class="p">)</span>
<span class="n">model3</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>      <td>log_students</td>   <th>  R-squared:         </th> <td>   0.335</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.332</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   145.2</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Thu, 04 Dec 2025</td> <th>  Prob (F-statistic):</th>  <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>13:55:48</td>     <th>  Log-Likelihood:    </th> <td> -31717.</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td> 17759</td>      <th>  AIC:               </th> <td>6.356e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td> 17695</td>      <th>  BIC:               </th> <td>6.406e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>    63</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>         <td>HC1</td>       <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
                <td></td>                   <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>                     <td>    4.1593</td> <td>    0.162</td> <td>   25.692</td> <td> 0.000</td> <td>    3.842</td> <td>    4.477</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.AUS]</th> <td>    0.7979</td> <td>    0.120</td> <td>    6.670</td> <td> 0.000</td> <td>    0.563</td> <td>    1.032</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.AUT]</th> <td>    0.8095</td> <td>    0.123</td> <td>    6.564</td> <td> 0.000</td> <td>    0.568</td> <td>    1.051</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BEL]</th> <td>    0.6975</td> <td>    0.123</td> <td>    5.662</td> <td> 0.000</td> <td>    0.456</td> <td>    0.939</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BGD]</th> <td>    2.1278</td> <td>    0.121</td> <td>   17.595</td> <td> 0.000</td> <td>    1.891</td> <td>    2.365</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BGR]</th> <td>    0.8706</td> <td>    0.122</td> <td>    7.150</td> <td> 0.000</td> <td>    0.632</td> <td>    1.109</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BHR]</th> <td>   -0.5644</td> <td>    0.115</td> <td>   -4.919</td> <td> 0.000</td> <td>   -0.789</td> <td>   -0.339</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BRA]</th> <td>    2.4130</td> <td>    0.123</td> <td>   19.684</td> <td> 0.000</td> <td>    2.173</td> <td>    2.653</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CAN]</th> <td>    1.9352</td> <td>    0.120</td> <td>   16.163</td> <td> 0.000</td> <td>    1.701</td> <td>    2.170</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CHE]</th> <td>    0.9131</td> <td>    0.124</td> <td>    7.383</td> <td> 0.000</td> <td>    0.671</td> <td>    1.156</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.COL]</th> <td>    2.0069</td> <td>    0.121</td> <td>   16.581</td> <td> 0.000</td> <td>    1.770</td> <td>    2.244</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CYP]</th> <td>    0.9674</td> <td>    0.121</td> <td>    7.973</td> <td> 0.000</td> <td>    0.730</td> <td>    1.205</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DEU]</th> <td>    2.4831</td> <td>    0.121</td> <td>   20.595</td> <td> 0.000</td> <td>    2.247</td> <td>    2.719</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DNK]</th> <td>   -0.4471</td> <td>    0.120</td> <td>   -3.737</td> <td> 0.000</td> <td>   -0.682</td> <td>   -0.213</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DOM]</th> <td>   -0.5455</td> <td>    0.116</td> <td>   -4.715</td> <td> 0.000</td> <td>   -0.772</td> <td>   -0.319</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DZA]</th> <td>    1.2762</td> <td>    0.120</td> <td>   10.595</td> <td> 0.000</td> <td>    1.040</td> <td>    1.512</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ECU]</th> <td>    1.4720</td> <td>    0.122</td> <td>   12.017</td> <td> 0.000</td> <td>    1.232</td> <td>    1.712</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.EGY]</th> <td>    1.7598</td> <td>    0.120</td> <td>   14.632</td> <td> 0.000</td> <td>    1.524</td> <td>    1.995</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ESP]</th> <td>    1.5576</td> <td>    0.125</td> <td>   12.458</td> <td> 0.000</td> <td>    1.313</td> <td>    1.803</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.FIN]</th> <td>    0.0929</td> <td>    0.120</td> <td>    0.776</td> <td> 0.438</td> <td>   -0.142</td> <td>    0.328</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.FRA]</th> <td>    2.3848</td> <td>    0.122</td> <td>   19.472</td> <td> 0.000</td> <td>    2.145</td> <td>    2.625</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GBR]</th> <td>    1.4390</td> <td>    0.122</td> <td>   11.774</td> <td> 0.000</td> <td>    1.199</td> <td>    1.679</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GHA]</th> <td>    1.3127</td> <td>    0.123</td> <td>   10.701</td> <td> 0.000</td> <td>    1.072</td> <td>    1.553</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GRC]</th> <td>    1.3530</td> <td>    0.122</td> <td>   11.048</td> <td> 0.000</td> <td>    1.113</td> <td>    1.593</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.HRV]</th> <td>    0.0360</td> <td>    0.119</td> <td>    0.301</td> <td> 0.763</td> <td>   -0.198</td> <td>    0.270</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.HUN]</th> <td>    0.3069</td> <td>    0.121</td> <td>    2.544</td> <td> 0.011</td> <td>    0.070</td> <td>    0.543</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IDN]</th> <td>    2.1747</td> <td>    0.121</td> <td>   17.934</td> <td> 0.000</td> <td>    1.937</td> <td>    2.412</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IND]</th> <td>    4.4479</td> <td>    0.124</td> <td>   35.769</td> <td> 0.000</td> <td>    4.204</td> <td>    4.692</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IRL]</th> <td>    0.4598</td> <td>    0.119</td> <td>    3.879</td> <td> 0.000</td> <td>    0.227</td> <td>    0.692</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IRN]</th> <td>    2.2879</td> <td>    0.122</td> <td>   18.700</td> <td> 0.000</td> <td>    2.048</td> <td>    2.528</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ISL]</th> <td>   -1.0514</td> <td>    0.113</td> <td>   -9.268</td> <td> 0.000</td> <td>   -1.274</td> <td>   -0.829</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ISR]</th> <td>    0.9256</td> <td>    0.120</td> <td>    7.691</td> <td> 0.000</td> <td>    0.690</td> <td>    1.161</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ITA]</th> <td>    2.2636</td> <td>    0.123</td> <td>   18.456</td> <td> 0.000</td> <td>    2.023</td> <td>    2.504</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.JPN]</th> <td>    1.4105</td> <td>    0.120</td> <td>   11.732</td> <td> 0.000</td> <td>    1.175</td> <td>    1.646</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.KWT]</th> <td>    1.0624</td> <td>    0.119</td> <td>    8.944</td> <td> 0.000</td> <td>    0.830</td> <td>    1.295</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.LBN]</th> <td>    1.5692</td> <td>    0.129</td> <td>   12.156</td> <td> 0.000</td> <td>    1.316</td> <td>    1.822</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.LUX]</th> <td>    0.2592</td> <td>    0.123</td> <td>    2.107</td> <td> 0.035</td> <td>    0.018</td> <td>    0.500</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MAR]</th> <td>    2.2496</td> <td>    0.124</td> <td>   18.181</td> <td> 0.000</td> <td>    2.007</td> <td>    2.492</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MEX]</th> <td>    1.6235</td> <td>    0.122</td> <td>   13.282</td> <td> 0.000</td> <td>    1.384</td> <td>    1.863</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MYS]</th> <td>    1.8737</td> <td>    0.120</td> <td>   15.621</td> <td> 0.000</td> <td>    1.639</td> <td>    2.109</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NGA]</th> <td>    2.8997</td> <td>    0.127</td> <td>   22.836</td> <td> 0.000</td> <td>    2.651</td> <td>    3.149</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NLD]</th> <td>    0.7561</td> <td>    0.122</td> <td>    6.192</td> <td> 0.000</td> <td>    0.517</td> <td>    0.995</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NOR]</th> <td>    0.3603</td> <td>    0.121</td> <td>    2.989</td> <td> 0.003</td> <td>    0.124</td> <td>    0.597</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NZL]</th> <td>   -0.1077</td> <td>    0.120</td> <td>   -0.898</td> <td> 0.369</td> <td>   -0.343</td> <td>    0.127</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PAN]</th> <td>   -0.4155</td> <td>    0.116</td> <td>   -3.581</td> <td> 0.000</td> <td>   -0.643</td> <td>   -0.188</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PER]</th> <td>    1.7008</td> <td>    0.122</td> <td>   13.977</td> <td> 0.000</td> <td>    1.462</td> <td>    1.939</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.POL]</th> <td>    0.9758</td> <td>    0.120</td> <td>    8.119</td> <td> 0.000</td> <td>    0.740</td> <td>    1.211</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PRT]</th> <td>    0.7230</td> <td>    0.121</td> <td>    5.963</td> <td> 0.000</td> <td>    0.485</td> <td>    0.961</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SAU]</th> <td>    1.7211</td> <td>    0.122</td> <td>   14.140</td> <td> 0.000</td> <td>    1.483</td> <td>    1.960</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SGP]</th> <td>    0.9250</td> <td>    0.119</td> <td>    7.777</td> <td> 0.000</td> <td>    0.692</td> <td>    1.158</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SLV]</th> <td>   -0.1190</td> <td>    0.117</td> <td>   -1.014</td> <td> 0.310</td> <td>   -0.349</td> <td>    0.111</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SVN]</th> <td>   -1.0501</td> <td>    0.116</td> <td>   -9.040</td> <td> 0.000</td> <td>   -1.278</td> <td>   -0.822</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SWE]</th> <td>    0.4637</td> <td>    0.121</td> <td>    3.841</td> <td> 0.000</td> <td>    0.227</td> <td>    0.700</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.THA]</th> <td>    1.5467</td> <td>    0.122</td> <td>   12.685</td> <td> 0.000</td> <td>    1.308</td> <td>    1.786</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.TUN]</th> <td>    1.0581</td> <td>    0.121</td> <td>    8.714</td> <td> 0.000</td> <td>    0.820</td> <td>    1.296</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.UKR]</th> <td>    2.3965</td> <td>    0.124</td> <td>   19.324</td> <td> 0.000</td> <td>    2.153</td> <td>    2.640</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.URY]</th> <td>   -0.4020</td> <td>    0.115</td> <td>   -3.485</td> <td> 0.000</td> <td>   -0.628</td> <td>   -0.176</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.USA]</th> <td>    2.7211</td> <td>    0.119</td> <td>   22.776</td> <td> 0.000</td> <td>    2.487</td> <td>    2.955</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.UZB]</th> <td>    2.6202</td> <td>    0.126</td> <td>   20.771</td> <td> 0.000</td> <td>    2.373</td> <td>    2.867</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ZAF]</th> <td>    0.8543</td> <td>    0.123</td> <td>    6.947</td> <td> 0.000</td> <td>    0.613</td> <td>    1.095</td>
</tr>
<tr>
  <th>log_roi_diff</th>                  <td>   -0.3659</td> <td>    0.022</td> <td>  -16.790</td> <td> 0.000</td> <td>   -0.409</td> <td>   -0.323</td>
</tr>
<tr>
  <th>log_dist</th>                      <td>   -0.0693</td> <td>    0.015</td> <td>   -4.677</td> <td> 0.000</td> <td>   -0.098</td> <td>   -0.040</td>
</tr>
<tr>
  <th>comlang_off</th>                   <td>    0.1856</td> <td>    0.040</td> <td>    4.668</td> <td> 0.000</td> <td>    0.108</td> <td>    0.263</td>
</tr>
<tr>
  <th>colony</th>                        <td>    1.0008</td> <td>    0.078</td> <td>   12.882</td> <td> 0.000</td> <td>    0.849</td> <td>    1.153</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>75.249</td> <th>  Durbin-Watson:     </th> <td>   1.881</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  61.600</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.074</td> <th>  Prob(JB):          </th> <td>4.20e-14</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.753</td> <th>  Cond. No.          </th> <td>    537.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors are heteroscedasticity robust (HC1)</div></div>
</div>
</section>
<section id="model-4-parsimonious-gravity-model">
<h2>Model 4: Parsimonious Gravity Model<a class="headerlink" href="#model-4-parsimonious-gravity-model" title="Permalink to this heading">#</a></h2>
<p>Focuses on structural gravity elements (GDP, distance, cultural ties).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">model4</span> <span class="o">=</span> <span class="n">smf</span><span class="o">.</span><span class="n">ols</span><span class="p">(</span>
    <span class="s2">&quot;log_students ~ log_gdp_dest + log_dist + comlang_off + colony + C(origin_country_code)&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="o">=</span><span class="n">reg_data</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cov_type</span><span class="o">=</span><span class="s2">&quot;HC1&quot;</span><span class="p">)</span>
<span class="n">model4</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>      <td>log_students</td>   <th>  R-squared:         </th> <td>   0.412</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.410</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   208.2</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Thu, 04 Dec 2025</td> <th>  Prob (F-statistic):</th>  <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>13:55:48</td>     <th>  Log-Likelihood:    </th> <td> -30618.</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td> 17759</td>      <th>  AIC:               </th> <td>6.136e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td> 17695</td>      <th>  BIC:               </th> <td>6.186e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>    63</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>         <td>HC1</td>       <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
                <td></td>                   <th>coef</th>     <th>std err</th>      <th>z</th>      <th>P>|z|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th>                     <td>   -5.5907</td> <td>    0.225</td> <td>  -24.833</td> <td> 0.000</td> <td>   -6.032</td> <td>   -5.149</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.AUS]</th> <td>    0.2411</td> <td>    0.108</td> <td>    2.230</td> <td> 0.026</td> <td>    0.029</td> <td>    0.453</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.AUT]</th> <td>    0.9227</td> <td>    0.115</td> <td>    8.016</td> <td> 0.000</td> <td>    0.697</td> <td>    1.148</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BEL]</th> <td>    1.3308</td> <td>    0.117</td> <td>   11.339</td> <td> 0.000</td> <td>    1.101</td> <td>    1.561</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BGD]</th> <td>    1.7155</td> <td>    0.111</td> <td>   15.487</td> <td> 0.000</td> <td>    1.498</td> <td>    1.933</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BGR]</th> <td>    0.9541</td> <td>    0.113</td> <td>    8.439</td> <td> 0.000</td> <td>    0.732</td> <td>    1.176</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BHR]</th> <td>   -0.5699</td> <td>    0.106</td> <td>   -5.373</td> <td> 0.000</td> <td>   -0.778</td> <td>   -0.362</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.BRA]</th> <td>    2.0967</td> <td>    0.112</td> <td>   18.655</td> <td> 0.000</td> <td>    1.876</td> <td>    2.317</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CAN]</th> <td>    1.4969</td> <td>    0.109</td> <td>   13.684</td> <td> 0.000</td> <td>    1.283</td> <td>    1.711</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CHE]</th> <td>    1.4022</td> <td>    0.117</td> <td>   11.944</td> <td> 0.000</td> <td>    1.172</td> <td>    1.632</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.COL]</th> <td>    1.7482</td> <td>    0.111</td> <td>   15.743</td> <td> 0.000</td> <td>    1.531</td> <td>    1.966</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.CYP]</th> <td>    1.0060</td> <td>    0.113</td> <td>    8.925</td> <td> 0.000</td> <td>    0.785</td> <td>    1.227</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DEU]</th> <td>    2.5179</td> <td>    0.113</td> <td>   22.360</td> <td> 0.000</td> <td>    2.297</td> <td>    2.739</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DNK]</th> <td>   -0.3483</td> <td>    0.112</td> <td>   -3.120</td> <td> 0.002</td> <td>   -0.567</td> <td>   -0.129</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DOM]</th> <td>   -0.7167</td> <td>    0.107</td> <td>   -6.693</td> <td> 0.000</td> <td>   -0.927</td> <td>   -0.507</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.DZA]</th> <td>    1.2286</td> <td>    0.113</td> <td>   10.878</td> <td> 0.000</td> <td>    1.007</td> <td>    1.450</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ECU]</th> <td>    1.0040</td> <td>    0.111</td> <td>    9.078</td> <td> 0.000</td> <td>    0.787</td> <td>    1.221</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.EGY]</th> <td>    1.7073</td> <td>    0.111</td> <td>   15.382</td> <td> 0.000</td> <td>    1.490</td> <td>    1.925</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ESP]</th> <td>    1.4976</td> <td>    0.116</td> <td>   12.950</td> <td> 0.000</td> <td>    1.271</td> <td>    1.724</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.FIN]</th> <td>    0.1443</td> <td>    0.111</td> <td>    1.297</td> <td> 0.195</td> <td>   -0.074</td> <td>    0.362</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.FRA]</th> <td>    2.2742</td> <td>    0.112</td> <td>   20.289</td> <td> 0.000</td> <td>    2.055</td> <td>    2.494</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GBR]</th> <td>    1.2089</td> <td>    0.112</td> <td>   10.806</td> <td> 0.000</td> <td>    0.990</td> <td>    1.428</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GHA]</th> <td>    0.7183</td> <td>    0.110</td> <td>    6.529</td> <td> 0.000</td> <td>    0.503</td> <td>    0.934</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.GRC]</th> <td>    1.4470</td> <td>    0.114</td> <td>   12.727</td> <td> 0.000</td> <td>    1.224</td> <td>    1.670</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.HRV]</th> <td>    0.1738</td> <td>    0.111</td> <td>    1.571</td> <td> 0.116</td> <td>   -0.043</td> <td>    0.391</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.HUN]</th> <td>    0.4385</td> <td>    0.112</td> <td>    3.918</td> <td> 0.000</td> <td>    0.219</td> <td>    0.658</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IDN]</th> <td>    1.7834</td> <td>    0.112</td> <td>   15.941</td> <td> 0.000</td> <td>    1.564</td> <td>    2.003</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IND]</th> <td>    3.9672</td> <td>    0.112</td> <td>   35.490</td> <td> 0.000</td> <td>    3.748</td> <td>    4.186</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IRL]</th> <td>    0.5747</td> <td>    0.110</td> <td>    5.227</td> <td> 0.000</td> <td>    0.359</td> <td>    0.790</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.IRN]</th> <td>    2.0496</td> <td>    0.112</td> <td>   18.248</td> <td> 0.000</td> <td>    1.829</td> <td>    2.270</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ISL]</th> <td>   -1.0496</td> <td>    0.105</td> <td>   -9.995</td> <td> 0.000</td> <td>   -1.255</td> <td>   -0.844</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ISR]</th> <td>    0.6758</td> <td>    0.110</td> <td>    6.145</td> <td> 0.000</td> <td>    0.460</td> <td>    0.891</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ITA]</th> <td>    2.1919</td> <td>    0.113</td> <td>   19.406</td> <td> 0.000</td> <td>    1.971</td> <td>    2.413</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.JPN]</th> <td>    1.1223</td> <td>    0.111</td> <td>   10.095</td> <td> 0.000</td> <td>    0.904</td> <td>    1.340</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.KWT]</th> <td>    0.9146</td> <td>    0.109</td> <td>    8.358</td> <td> 0.000</td> <td>    0.700</td> <td>    1.129</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.LBN]</th> <td>    0.8237</td> <td>    0.112</td> <td>    7.354</td> <td> 0.000</td> <td>    0.604</td> <td>    1.043</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.LUX]</th> <td>    1.0971</td> <td>    0.114</td> <td>    9.626</td> <td> 0.000</td> <td>    0.874</td> <td>    1.321</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MAR]</th> <td>    1.8382</td> <td>    0.113</td> <td>   16.277</td> <td> 0.000</td> <td>    1.617</td> <td>    2.060</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MEX]</th> <td>    1.2286</td> <td>    0.111</td> <td>   11.093</td> <td> 0.000</td> <td>    1.012</td> <td>    1.446</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.MYS]</th> <td>    1.6298</td> <td>    0.111</td> <td>   14.634</td> <td> 0.000</td> <td>    1.411</td> <td>    1.848</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NGA]</th> <td>    2.2188</td> <td>    0.111</td> <td>   20.031</td> <td> 0.000</td> <td>    2.002</td> <td>    2.436</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NLD]</th> <td>    0.6887</td> <td>    0.113</td> <td>    6.118</td> <td> 0.000</td> <td>    0.468</td> <td>    0.909</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NOR]</th> <td>    0.6106</td> <td>    0.111</td> <td>    5.490</td> <td> 0.000</td> <td>    0.393</td> <td>    0.829</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.NZL]</th> <td>   -0.7141</td> <td>    0.108</td> <td>   -6.620</td> <td> 0.000</td> <td>   -0.926</td> <td>   -0.503</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PAN]</th> <td>   -0.6325</td> <td>    0.107</td> <td>   -5.933</td> <td> 0.000</td> <td>   -0.841</td> <td>   -0.424</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PER]</th> <td>    1.2818</td> <td>    0.110</td> <td>   11.648</td> <td> 0.000</td> <td>    1.066</td> <td>    1.497</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.POL]</th> <td>    1.0259</td> <td>    0.112</td> <td>    9.187</td> <td> 0.000</td> <td>    0.807</td> <td>    1.245</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.PRT]</th> <td>    0.6510</td> <td>    0.112</td> <td>    5.802</td> <td> 0.000</td> <td>    0.431</td> <td>    0.871</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SAU]</th> <td>    1.7495</td> <td>    0.113</td> <td>   15.482</td> <td> 0.000</td> <td>    1.528</td> <td>    1.971</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SGP]</th> <td>    0.7552</td> <td>    0.111</td> <td>    6.789</td> <td> 0.000</td> <td>    0.537</td> <td>    0.973</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SLV]</th> <td>   -0.6353</td> <td>    0.107</td> <td>   -5.929</td> <td> 0.000</td> <td>   -0.845</td> <td>   -0.425</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SVN]</th> <td>   -0.8545</td> <td>    0.108</td> <td>   -7.947</td> <td> 0.000</td> <td>   -1.065</td> <td>   -0.644</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.SWE]</th> <td>    0.5131</td> <td>    0.112</td> <td>    4.578</td> <td> 0.000</td> <td>    0.293</td> <td>    0.733</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.THA]</th> <td>    1.1691</td> <td>    0.112</td> <td>   10.427</td> <td> 0.000</td> <td>    0.949</td> <td>    1.389</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.TUN]</th> <td>    0.9769</td> <td>    0.114</td> <td>    8.584</td> <td> 0.000</td> <td>    0.754</td> <td>    1.200</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.UKR]</th> <td>    2.1143</td> <td>    0.113</td> <td>   18.706</td> <td> 0.000</td> <td>    1.893</td> <td>    2.336</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.URY]</th> <td>   -0.4894</td> <td>    0.108</td> <td>   -4.550</td> <td> 0.000</td> <td>   -0.700</td> <td>   -0.279</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.USA]</th> <td>    2.2717</td> <td>    0.108</td> <td>   21.054</td> <td> 0.000</td> <td>    2.060</td> <td>    2.483</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.UZB]</th> <td>    2.2070</td> <td>    0.116</td> <td>   18.984</td> <td> 0.000</td> <td>    1.979</td> <td>    2.435</td>
</tr>
<tr>
  <th>C(origin_country_code)[T.ZAF]</th> <td>    0.2230</td> <td>    0.109</td> <td>    2.046</td> <td> 0.041</td> <td>    0.009</td> <td>    0.437</td>
</tr>
<tr>
  <th>log_gdp_dest</th>                  <td>    0.7423</td> <td>    0.014</td> <td>   52.515</td> <td> 0.000</td> <td>    0.715</td> <td>    0.770</td>
</tr>
<tr>
  <th>log_dist</th>                      <td>    0.1029</td> <td>    0.013</td> <td>    7.846</td> <td> 0.000</td> <td>    0.077</td> <td>    0.129</td>
</tr>
<tr>
  <th>comlang_off</th>                   <td>    0.9148</td> <td>    0.048</td> <td>   18.975</td> <td> 0.000</td> <td>    0.820</td> <td>    1.009</td>
</tr>
<tr>
  <th>colony</th>                        <td>    0.9302</td> <td>    0.073</td> <td>   12.808</td> <td> 0.000</td> <td>    0.788</td> <td>    1.073</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>305.111</td> <th>  Durbin-Watson:     </th> <td>   1.891</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td> 239.144</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.203</td>  <th>  Prob(JB):          </th> <td>1.18e-52</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.602</td>  <th>  Cond. No.          </th> <td>    831.</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors are heteroscedasticity robust (HC1)</div></div>
</div>
</section>
<section id="personalized-estimation-united-states-origin">
<h2>Personalized Estimation: United States Origin<a class="headerlink" href="#personalized-estimation-united-states-origin" title="Permalink to this heading">#</a></h2>
<p>We now compare the four models for a student originating from the United States. We reuse the same destination list from the Italy analysis to keep results comparable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># User Profile Data (Italy - Data Science)</span>
<span class="n">user_origin</span> <span class="o">=</span> <span class="s2">&quot;USA&quot;</span>
<span class="n">user_tuition</span> <span class="o">=</span> <span class="mi">60000</span>
<span class="n">user_earnings</span> <span class="o">=</span> <span class="mi">165000</span>
<span class="n">user_living</span> <span class="o">=</span> <span class="mi">55000</span>
<span class="n">user_total_cost</span> <span class="o">=</span> <span class="n">user_tuition</span> <span class="o">+</span> <span class="n">user_living</span>
<span class="n">user_roi</span> <span class="o">=</span> <span class="n">user_earnings</span> <span class="o">/</span> <span class="n">user_total_cost</span>

<span class="c1"># Select Top Destinations (Expanded List)</span>
<span class="c1"># Added: ESP, NLD, DNK, NOR, SWE, CHE, CHN, JPN, KOR, ARE, ITA</span>
<span class="n">destinations</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">,</span> <span class="s2">&quot;GBR&quot;</span><span class="p">,</span> <span class="s2">&quot;DEU&quot;</span><span class="p">,</span> <span class="s2">&quot;FRA&quot;</span><span class="p">,</span> <span class="s2">&quot;CAN&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;ESP&quot;</span><span class="p">,</span> <span class="s2">&quot;NLD&quot;</span><span class="p">,</span> <span class="s2">&quot;DNK&quot;</span><span class="p">,</span> <span class="s2">&quot;NOR&quot;</span><span class="p">,</span> <span class="s2">&quot;SWE&quot;</span><span class="p">,</span> <span class="s2">&quot;CHE&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;CHN&quot;</span><span class="p">,</span> <span class="s2">&quot;JPN&quot;</span><span class="p">,</span> <span class="s2">&quot;KOR&quot;</span><span class="p">,</span> <span class="s2">&quot;ARE&quot;</span><span class="p">,</span> <span class="s2">&quot;ITA&quot;</span>
<span class="p">]</span>

<span class="c1"># --- FETCH DATA FROM RAW FACT TABLE ---</span>
<span class="c1"># We use &#39;fact&#39; instead of &#39;reg_data&#39; because &#39;reg_data&#39; dropped rows with missing values</span>
<span class="c1"># We filter for ITA origin and the selected destinations</span>
<span class="n">personal_data</span> <span class="o">=</span> <span class="n">fact</span><span class="p">[</span>
    <span class="p">(</span><span class="n">fact</span><span class="p">[</span><span class="s2">&quot;origin_country_code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_origin</span><span class="p">)</span> <span class="o">&amp;</span>
    <span class="p">(</span><span class="n">fact</span><span class="p">[</span><span class="s2">&quot;destination_country_code&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">destinations</span><span class="p">))</span>
<span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Filter for the latest year available for each destination</span>
<span class="k">if</span> <span class="s2">&quot;year&quot;</span> <span class="ow">in</span> <span class="n">personal_data</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">personal_data</span> <span class="o">=</span> <span class="n">personal_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;year&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;destination_country_code&quot;</span><span class="p">])</span>

<span class="c1"># Ensure all structural variables are present (fill from reg_data logic if needed)</span>
<span class="c1"># The raw &#39;fact&#39; table has &#39;gdp_pc_dest&#39;, &#39;dist&#39;, &#39;comlang_off&#39;, &#39;colony&#39;</span>
<span class="c1"># We need to create the log variables</span>

<span class="c1"># --- INJECT MISSING DATA (WEB SCRAPED) ---</span>
<span class="c1"># Dictionary of missing data</span>
<span class="c1"># Format: Country Code: {col: value}</span>
<span class="n">missing_data_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;CHN&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">:</span> <span class="mi">6500</span><span class="p">,</span>   <span class="c1"># ~Avg for Master&#39;s</span>
        <span class="s2">&quot;earnings_dest&quot;</span><span class="p">:</span> <span class="mi">53000</span><span class="p">,</span>      <span class="c1"># ~Entry Level Data Scientist</span>
        <span class="s2">&quot;cost_living_dest&quot;</span><span class="p">:</span> <span class="mi">12000</span>    <span class="c1"># ~Major city student living</span>
    <span class="p">},</span>
    <span class="s2">&quot;KOR&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">:</span> <span class="mi">13000</span><span class="p">,</span>  <span class="c1"># ~Avg Private Uni</span>
        <span class="s2">&quot;earnings_dest&quot;</span><span class="p">:</span> <span class="mi">67000</span><span class="p">,</span>      <span class="c1"># ~Entry Level</span>
        <span class="s2">&quot;cost_living_dest&quot;</span><span class="p">:</span> <span class="mi">9000</span>     <span class="c1"># ~Student avg</span>
    <span class="p">},</span>
    <span class="s2">&quot;ARE&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">:</span> <span class="mi">25000</span><span class="p">,</span>  <span class="c1"># ~Avg International Uni</span>
        <span class="s2">&quot;cost_living_dest&quot;</span><span class="p">:</span> <span class="mi">18000</span>    <span class="c1"># ~Mid-range student living</span>
        <span class="c1"># Earnings already in dataset (~73k)</span>
    <span class="p">},</span>
    <span class="s2">&quot;USA&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;dist&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>              <span class="c1"># Hardcoded small distance for internal flow</span>
        <span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">:</span> <span class="n">user_tuition</span><span class="p">,</span>
        <span class="s2">&quot;earnings_dest&quot;</span><span class="p">:</span> <span class="n">user_earnings</span><span class="p">,</span>
        <span class="s2">&quot;cost_living_dest&quot;</span><span class="p">:</span> <span class="n">user_living</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># Apply the manual data</span>
<span class="k">for</span> <span class="n">country</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">missing_data_map</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">mask</span> <span class="o">=</span> <span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;destination_country_code&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">country</span>
    <span class="k">if</span> <span class="n">mask</span><span class="o">.</span><span class="n">any</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">personal_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">mask</span><span class="p">,</span> <span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: </span><span class="si">{</span><span class="n">country</span><span class="si">}</span><span class="s2"> not found in raw fact rows.&quot;</span><span class="p">)</span>

<span class="c1"># -----------------------------------------</span>

<span class="c1"># Now calculate the regression variables</span>
<span class="c1"># Dependent Variable (placeholder, not needed for prediction but good for consistency)</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;log_students&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;students_enrolled&quot;</span><span class="p">])</span>

<span class="c1"># Independent Variables</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;log_earnings_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;earnings_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">user_earnings</span><span class="p">)</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;log_tuition_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">user_tuition</span><span class="p">)</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;log_living_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;cost_living_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">user_living</span><span class="p">)</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;log_dist&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;dist&quot;</span><span class="p">])</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;log_gdp_dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;gdp_pc_dest&quot;</span><span class="p">])</span>

<span class="c1"># Restricted Model Variables</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;total_cost_dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;cost_tuition_dest&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;cost_living_dest&quot;</span><span class="p">]</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;roi_dest&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;earnings_dest&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;total_cost_dest&quot;</span><span class="p">]</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;log_roi_diff&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;roi_dest&quot;</span><span class="p">])</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">user_roi</span><span class="p">)</span>

<span class="c1"># Drop any rows that STILL have NaNs in the required columns (e.g. if we missed some data)</span>
<span class="c1"># But we want to keep as many as possible.</span>
<span class="c1"># Model 4 only needs GDP, Dist, Culture.</span>
<span class="c1"># Model 2 needs Tuition, Earnings.</span>

<span class="c1"># Run Predictions</span>
<span class="c1"># We handle NaNs by filling with 0 or dropping, but let&#39;s try to predict where possible.</span>
<span class="c1"># If a row has NaN for a model&#39;s features, predict() will return NaN.</span>

<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;pred_m1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model1</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">personal_data</span><span class="p">)</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;pred_m2&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">personal_data</span><span class="p">)</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;pred_m3&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model3</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">personal_data</span><span class="p">)</span>
<span class="n">personal_data</span><span class="p">[</span><span class="s2">&quot;pred_m4&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">model4</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">personal_data</span><span class="p">)</span>

<span class="c1"># Convert log predictions back to student counts (exp - 1)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">personal_data</span><span class="p">[[</span><span class="s2">&quot;destination_country_code&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;pred_m1&quot;</span><span class="p">,</span> <span class="s2">&quot;pred_m2&quot;</span><span class="p">,</span> <span class="s2">&quot;pred_m3&quot;</span><span class="p">,</span> <span class="s2">&quot;pred_m4&quot;</span><span class="p">]:</span>
    <span class="c1"># Calculate raw counts</span>
    <span class="n">results</span><span class="p">[</span><span class="n">col</span> <span class="o">+</span> <span class="s2">&quot;_count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expm1</span><span class="p">(</span><span class="n">personal_data</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
    
    <span class="c1"># Calculate Probabilities (Weights)</span>
    <span class="c1"># The probability of choosing destination j is Count_j / Sum(Counts)</span>
    <span class="c1"># We ignore NaNs in the sum</span>
    <span class="n">total_flow</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">col</span> <span class="o">+</span> <span class="s2">&quot;_count&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">results</span><span class="p">[</span><span class="n">col</span> <span class="o">+</span> <span class="s2">&quot;_prob&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">results</span><span class="p">[</span><span class="n">col</span> <span class="o">+</span> <span class="s2">&quot;_count&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">total_flow</span>

<span class="c1"># Save Results to CSV for Visualization</span>
<span class="c1"># FIX: Use ../Datasets because notebook runs in scripts/</span>
<span class="n">results</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;../Datasets/personalized_predictions.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Results saved to ../Datasets/personalized_predictions_USA.csv&quot;</span><span class="p">)</span>

<span class="c1"># Display Results as Probabilities</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Estimated Probability of Choosing Each Destination (Weights):&quot;</span><span class="p">)</span>
<span class="n">cols_prob</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;destination_country_code&quot;</span><span class="p">,</span> <span class="s2">&quot;pred_m1_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;pred_m2_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;pred_m3_prob&quot;</span><span class="p">,</span> <span class="s2">&quot;pred_m4_prob&quot;</span><span class="p">]</span>
<span class="n">display</span><span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="n">cols_prob</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;destination_country_code&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">({</span>
    <span class="s2">&quot;pred_m1_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1%}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pred_m2_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1%}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pred_m3_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1%}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;pred_m4_prob&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1%}</span><span class="s2">&quot;</span>
<span class="p">})</span><span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Blues&quot;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Results saved to ../Datasets/personalized_predictions_USA.csv
Estimated Probability of Choosing Each Destination (Weights):
</pre></div>
</div>
<div class="output text_html"><style type="text/css">
#T_2f857_row0_col0 {
  background-color: #1b69af;
  color: #f1f1f1;
}
#T_2f857_row0_col1, #T_2f857_row1_col3, #T_2f857_row9_col0, #T_2f857_row9_col2 {
  background-color: #08306b;
  color: #f1f1f1;
}
#T_2f857_row0_col2 {
  background-color: #1d6cb1;
  color: #f1f1f1;
}
#T_2f857_row0_col3, #T_2f857_row4_col0, #T_2f857_row13_col1, #T_2f857_row13_col2 {
  background-color: #f7fbff;
  color: #000000;
}
#T_2f857_row1_col0 {
  background-color: #08488e;
  color: #f1f1f1;
}
#T_2f857_row1_col1 {
  background-color: #dfebf7;
  color: #000000;
}
#T_2f857_row1_col2 {
  background-color: #1562a9;
  color: #f1f1f1;
}
#T_2f857_row2_col0 {
  background-color: #c3daee;
  color: #000000;
}
#T_2f857_row2_col1, #T_2f857_row5_col2 {
  background-color: #dbe9f6;
  color: #000000;
}
#T_2f857_row2_col2 {
  background-color: #caddf0;
  color: #000000;
}
#T_2f857_row2_col3 {
  background-color: #9fcae1;
  color: #000000;
}
#T_2f857_row3_col0 {
  background-color: #d4e4f4;
  color: #000000;
}
#T_2f857_row3_col1, #T_2f857_row10_col0, #T_2f857_row11_col2 {
  background-color: #e4eff9;
  color: #000000;
}
#T_2f857_row3_col2 {
  background-color: #c2d9ee;
  color: #000000;
}
#T_2f857_row3_col3 {
  background-color: #d9e8f5;
  color: #000000;
}
#T_2f857_row4_col1, #T_2f857_row4_col3 {
  background-color: #f4f9fe;
  color: #000000;
}
#T_2f857_row4_col2 {
  background-color: #f0f6fd;
  color: #000000;
}
#T_2f857_row5_col0, #T_2f857_row6_col1 {
  background-color: #f5fafe;
  color: #000000;
}
#T_2f857_row5_col1 {
  background-color: #ecf4fb;
  color: #000000;
}
#T_2f857_row5_col3 {
  background-color: #f3f8fe;
  color: #000000;
}
#T_2f857_row6_col0 {
  background-color: #e7f0fa;
  color: #000000;
}
#T_2f857_row6_col2, #T_2f857_row8_col0 {
  background-color: #edf4fc;
  color: #000000;
}
#T_2f857_row6_col3 {
  background-color: #a4cce3;
  color: #000000;
}
#T_2f857_row7_col0 {
  background-color: #2373b6;
  color: #f1f1f1;
}
#T_2f857_row7_col1 {
  background-color: #e8f1fa;
  color: #000000;
}
#T_2f857_row7_col2 {
  background-color: #1f6eb3;
  color: #f1f1f1;
}
#T_2f857_row7_col3 {
  background-color: #084f99;
  color: #f1f1f1;
}
#T_2f857_row8_col1, #T_2f857_row14_col1 {
  background-color: #f6faff;
  color: #000000;
}
#T_2f857_row8_col2, #T_2f857_row14_col2 {
  background-color: #ebf3fb;
  color: #000000;
}
#T_2f857_row8_col3, #T_2f857_row14_col3 {
  background-color: #b5d4e9;
  color: #000000;
}
#T_2f857_row9_col1 {
  background-color: #d6e5f4;
  color: #000000;
}
#T_2f857_row9_col3 {
  background-color: #083877;
  color: #f1f1f1;
}
#T_2f857_row10_col1, #T_2f857_row14_col0 {
  background-color: #eef5fc;
  color: #000000;
}
#T_2f857_row10_col2 {
  background-color: #e3eef9;
  color: #000000;
}
#T_2f857_row10_col3 {
  background-color: #c8dcf0;
  color: #000000;
}
#T_2f857_row11_col0 {
  background-color: #f2f7fd;
  color: #000000;
}
#T_2f857_row11_col1, #T_2f857_row12_col1 {
  background-color: #f5f9fe;
  color: #000000;
}
#T_2f857_row11_col3 {
  background-color: #cde0f1;
  color: #000000;
}
#T_2f857_row12_col0 {
  background-color: #e9f2fa;
  color: #000000;
}
#T_2f857_row12_col2, #T_2f857_row13_col0 {
  background-color: #dceaf6;
  color: #000000;
}
#T_2f857_row12_col3 {
  background-color: #c7dbef;
  color: #000000;
}
#T_2f857_row13_col3 {
  background-color: #77b5d9;
  color: #000000;
}
#T_2f857_row15_col0 {
  background-color: #d7e6f5;
  color: #000000;
}
#T_2f857_row15_col1 {
  background-color: #eff6fc;
  color: #000000;
}
#T_2f857_row15_col2 {
  background-color: #e1edf8;
  color: #000000;
}
#T_2f857_row15_col3 {
  background-color: #abd0e6;
  color: #000000;
}
</style>
<table id="T_2f857">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_2f857_level0_col0" class="col_heading level0 col0" >pred_m1_prob</th>
      <th id="T_2f857_level0_col1" class="col_heading level0 col1" >pred_m2_prob</th>
      <th id="T_2f857_level0_col2" class="col_heading level0 col2" >pred_m3_prob</th>
      <th id="T_2f857_level0_col3" class="col_heading level0 col3" >pred_m4_prob</th>
    </tr>
    <tr>
      <th class="index_name level0" >destination_country_code</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_2f857_level0_row0" class="row_heading level0 row0" >USA</th>
      <td id="T_2f857_row0_col0" class="data row0 col0" >11.6%</td>
      <td id="T_2f857_row0_col1" class="data row0 col1" >41.4%</td>
      <td id="T_2f857_row0_col2" class="data row0 col2" >11.5%</td>
      <td id="T_2f857_row0_col3" class="data row0 col3" >2.6%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row1" class="row_heading level0 row1" >FRA</th>
      <td id="T_2f857_row1_col0" class="data row1 col0" >13.0%</td>
      <td id="T_2f857_row1_col1" class="data row1 col1" >6.7%</td>
      <td id="T_2f857_row1_col2" class="data row1 col2" >11.9%</td>
      <td id="T_2f857_row1_col3" class="data row1 col3" >12.6%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row2" class="row_heading level0 row2" >ARE</th>
      <td id="T_2f857_row2_col0" class="data row2 col0" >6.0%</td>
      <td id="T_2f857_row2_col1" class="data row2 col1" >7.4%</td>
      <td id="T_2f857_row2_col2" class="data row2 col2" >5.6%</td>
      <td id="T_2f857_row2_col3" class="data row2 col3" >6.3%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row3" class="row_heading level0 row3" >CAN</th>
      <td id="T_2f857_row3_col0" class="data row3 col0" >5.1%</td>
      <td id="T_2f857_row3_col1" class="data row3 col1" >5.6%</td>
      <td id="T_2f857_row3_col2" class="data row3 col2" >6.0%</td>
      <td id="T_2f857_row3_col3" class="data row3 col3" >4.1%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row4" class="row_heading level0 row4" >CHE</th>
      <td id="T_2f857_row4_col0" class="data row4 col0" >3.2%</td>
      <td id="T_2f857_row4_col1" class="data row4 col1" >2.5%</td>
      <td id="T_2f857_row4_col2" class="data row4 col2" >3.5%</td>
      <td id="T_2f857_row4_col3" class="data row4 col3" >2.7%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row5" class="row_heading level0 row5" >CHN</th>
      <td id="T_2f857_row5_col0" class="data row5 col0" >3.3%</td>
      <td id="T_2f857_row5_col1" class="data row5 col1" >3.9%</td>
      <td id="T_2f857_row5_col2" class="data row5 col2" >4.7%</td>
      <td id="T_2f857_row5_col3" class="data row5 col3" >2.8%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row6" class="row_heading level0 row6" >DNK</th>
      <td id="T_2f857_row6_col0" class="data row6 col0" >4.1%</td>
      <td id="T_2f857_row6_col1" class="data row6 col1" >2.1%</td>
      <td id="T_2f857_row6_col2" class="data row6 col2" >3.7%</td>
      <td id="T_2f857_row6_col3" class="data row6 col3" >6.1%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row7" class="row_heading level0 row7" >ESP</th>
      <td id="T_2f857_row7_col0" class="data row7 col0" >11.2%</td>
      <td id="T_2f857_row7_col1" class="data row7 col1" >4.8%</td>
      <td id="T_2f857_row7_col2" class="data row7 col2" >11.4%</td>
      <td id="T_2f857_row7_col3" class="data row7 col3" >11.4%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row8" class="row_heading level0 row8" >DEU</th>
      <td id="T_2f857_row8_col0" class="data row8 col0" >3.8%</td>
      <td id="T_2f857_row8_col1" class="data row8 col1" >2.0%</td>
      <td id="T_2f857_row8_col2" class="data row8 col2" >3.8%</td>
      <td id="T_2f857_row8_col3" class="data row8 col3" >5.6%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row9" class="row_heading level0 row9" >GBR</th>
      <td id="T_2f857_row9_col0" class="data row9 col0" >13.9%</td>
      <td id="T_2f857_row9_col1" class="data row9 col1" >8.5%</td>
      <td id="T_2f857_row9_col2" class="data row9 col2" >14.0%</td>
      <td id="T_2f857_row9_col3" class="data row9 col3" >12.3%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row10" class="row_heading level0 row10" >ITA</th>
      <td id="T_2f857_row10_col0" class="data row10 col0" >4.2%</td>
      <td id="T_2f857_row10_col1" class="data row10 col1" >3.5%</td>
      <td id="T_2f857_row10_col2" class="data row10 col2" >4.2%</td>
      <td id="T_2f857_row10_col3" class="data row10 col3" >5.0%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row11" class="row_heading level0 row11" >JPN</th>
      <td id="T_2f857_row11_col0" class="data row11 col0" >3.5%</td>
      <td id="T_2f857_row11_col1" class="data row11 col1" >2.2%</td>
      <td id="T_2f857_row11_col2" class="data row11 col2" >4.1%</td>
      <td id="T_2f857_row11_col3" class="data row11 col3" >4.7%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row12" class="row_heading level0 row12" >KOR</th>
      <td id="T_2f857_row12_col0" class="data row12 col0" >4.0%</td>
      <td id="T_2f857_row12_col1" class="data row12 col1" >2.3%</td>
      <td id="T_2f857_row12_col2" class="data row12 col2" >4.6%</td>
      <td id="T_2f857_row12_col3" class="data row12 col3" >5.0%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row13" class="row_heading level0 row13" >NOR</th>
      <td id="T_2f857_row13_col0" class="data row13 col0" >4.6%</td>
      <td id="T_2f857_row13_col1" class="data row13 col1" >1.7%</td>
      <td id="T_2f857_row13_col2" class="data row13 col2" >3.1%</td>
      <td id="T_2f857_row13_col3" class="data row13 col3" >7.3%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row14" class="row_heading level0 row14" >SWE</th>
      <td id="T_2f857_row14_col0" class="data row14 col0" >3.7%</td>
      <td id="T_2f857_row14_col1" class="data row14 col1" >1.9%</td>
      <td id="T_2f857_row14_col2" class="data row14 col2" >3.8%</td>
      <td id="T_2f857_row14_col3" class="data row14 col3" >5.6%</td>
    </tr>
    <tr>
      <th id="T_2f857_level0_row15" class="row_heading level0 row15" >NLD</th>
      <td id="T_2f857_row15_col0" class="data row15 col0" >4.9%</td>
      <td id="T_2f857_row15_col1" class="data row15 col1" >3.4%</td>
      <td id="T_2f857_row15_col2" class="data row15 col2" >4.3%</td>
      <td id="T_2f857_row15_col3" class="data row15 col3" >5.9%</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Applied Econometrics Team
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2022.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>